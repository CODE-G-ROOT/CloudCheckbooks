# CloudCheckbooks - Simplifica tu contabilidad en la nube ğŸ“šğŸ’»

Â¡Bienvenidos a CloudCheckbooks! La soluciÃ³n definitiva para simplificar la administraciÃ³n de documentos y papeleo contable. Con CloudCheckbooks, podrÃ¡s decir adiÃ³s a los talonarios fÃ­sicos y llevar todo tu papeleo al mundo virtual de forma rÃ¡pida y segura. ğŸ‰

## Â¿QuÃ© es CloudCheckbooks? ğŸ¤”ğŸ’¡

CloudCheckbooks es una plataforma que te permite crear y almacenar tus "cuadernillos" o "libros" contables en la nube, sin necesidad de lidiar con documentos impresos. OlvÃ­date de las firmas en papel, ahora podrÃ¡s firmar y editar de manera virtual, ahorrando tiempo y recursos. ğŸ’»âœï¸

## Objetivos ğŸ¯ğŸš€

- Facilitar la gestiÃ³n y almacenamiento de documentos contables de manera virtual.
- Eliminar el uso de papeleo y firmas en papel, ofreciendo opciones de firma y ediciÃ³n totalmente digitales.
- Ofrecer acceso remoto a los documentos desde cualquier lugar y en cualquier momento.
- Agilizar la emisiÃ³n de facturas, recibos, Ã³rdenes de compra y cheques sin la necesidad de impresiones **(por ser la primera versiÃ³n de este programa, solo estarÃ¡n disponibles las opciones de facturas, recibos y cheques).**
- Generar archivos imprimibles para aquellos casos que lo requieran, manteniendo la flexibilidad y comodidad para el usuario. ğŸ–¨ï¸

## Ventajas de CloudCheckbooks âœ…ğŸŒŸ

- Acceso remoto a tus documentos desde cualquier lugar ğŸŒ
- Firma y ediciÃ³n virtual, sin necesidad de papel âœï¸ğŸ–±ï¸
- Gestiona tu contabilidad de forma rÃ¡pida y eficiente ğŸ“ˆ
- Emitir facturas, recibos, Ã³rdenes de compra y cheques sin papeleo ğŸ“ğŸ§¾âœ…

# Mas info â„¹ï¸

Este es un archivo README.md para proporcionar informaciÃ³n adicional sobre la implementaciÃ³n del proyecto "CloudCheckbooks" en la nube â˜ï¸. AquÃ­ encontrarÃ¡s detalles sobre las tecnologÃ­as utilizadas en el desarrollo del proyecto, las dependencias requeridas y otros temas relacionados con la contabilidad en lÃ­nea. ğŸ“ğŸ’»

## TecnologÃ­as utilizadas ğŸ› ï¸

- **Node.js**: Para el desarrollo del backend y la creaciÃ³n de API REST.
- **Express.js**: Framework de Node.js para la creaciÃ³n de servidores web.
- **MySQL**: Base de datos relacional para almacenar los documentos contables de forma estructurada. ğŸ—ƒï¸

## Dependencias utlizadas ğŸ“‹ğŸ”

- class-transformer
- class-validator
- dotenv
- express
- jose
- mysql2
- nodemon
- promise-mysql
- reflect-metadata
- typescript

## ProyecciÃ³n bÃ¡sica de la base de datos ğŸ“‹ğŸ”

![Diagrama de la base de datos](./assets/img/README/diagrama.png)

DefiniciÃ³n de la construcciÃ³n de la base de datos segÃºn la importancia de las tablas y las relaciones que tenÃ­an entre sÃ­.

| TABLA       | DEFINICION                                                   |
| ----------- | ------------------------------------------------------------ |
| Usuario     | Un usuario puede tener muchos libros                         |
| Libros      | Un libro puede tener muchos talones                          |
| Talonario   | Puede tener solo uno de los 3 tipos de talÃ³n registrado      |
| Persona     | Una persona puede representar varios talones                 |
| Ubicacion   | Varias personas pueden estar ubicadas en el mismo lugar      |
| talon_tipo  | Factura, cheque o recibo de caja, cada uno puede pertenecer a muchos talones |
| Metodo_pago | Define la forma de pago y segÃºn su validaciÃ³n                |
| Pago        | Se define segÃºn la forma de pago                             |

# Manual de uso ğŸ“–ğŸš€ 

## InstalaciÃ³n ğŸ› ï¸ğŸš€

1. Clona este repositorio en tu computadora.

```bash
git clone https://github.com/JuanDavidAvilaRaveloCampus/CloudCheckbooks.git
```

2. Instala las dependencias necesarias para el frontend y el backend.

Para ello, primero debemos ubicarnos en la carpeta "backend" con el comando:

```bash
cd ./backend
```

3. Ahora, instalamos las dependencias:

```bash
npm update
```

4. Crea el archivo controllers con el siguiente comando:

```bash
npm run tsc
```

Luego procedemos a dar de baja el servicio con **CTRL + C.**

5. **Configura las variables de entorno.**

Crea un archivo `.env` en la carpeta "backend" y agrega las siguientes variables de entorno:

```bash
touch .env           
```

Dentro de ese archivo ingresar el siguiente script.

```json
SERVER_CONFIG={"hostname": "localhost", "port": 3000}
DB_CONFIG={"host":"localhost","database":"Talonarios","user":"AQUÃ_VA_TU_USUARIO","password":"AQUÃ_VA_TU_CONTRASEÃ‘A_DE_MYSQL", "port": 3306}
JWT_PRIVATE_KEY = "Miguel, porfa, dejeme dormir hoy todo bien :')"
```

Ingresar tu usuario de la base de datos en **"AQUÃ_VA_TU_USUARIO"** y tu constraseÃ±a en **"AQUÃ__VA_TU_CONTRASEÃ‘A_DE_MYSQL"**

Ejemplo:

```json
SERVER_CONFIG={"hostname": "localhost", "port": 3000}
DB_CONFIG={"host":"localhost","database":"Talonarios","user":"campus","password":"campus2023", "port": 3306}
JWT_PRIVATE_KEY = "Miguel, porfa, dejeme dormir hoy todo bien :')"
```



## ğŸƒâ€â™‚ï¸ **Correr la base de datos** ğŸƒâ€â™€ï¸

1. **Iniciar la base de datos**

   Ubicate en la carpeta que almacena la base de datos `DB`

   Abre el archivo `db.sql` para configurar la conexiÃ³n con la  base de datos desde Visual Studio Code. AsegÃºrate de tener instalada la  extensiÃ³n MySQL para ello.



1. Activar la coneccion por medio del visual estudio code. Para ello primero Instalar la extension MySQL

   ![image-20230727114914347](./assets/img/README/mysql.png)

2. Habiendo hecho esto, nos aparecerÃ¡ la opciÃ³n de connecciÃ³n sobre nuestro cÃ³digo de la siguiente forma

   ![image-20230727115023570](./assets/img/README/activar.png)

3. Darle click en activar conexiÃ³n y nos aparecerÃ¡ una ventana similar a la siguiente: 

   ![image-20230727115121384](./assets/img/README/activar2.png)

4. Seleccionar la opciÃ³n que te aparezca

5. Seleccionar en cualquier base de datos que tengas ya instalada o preinstalada

   ![image-20230727115220532](./assets/img/README/seleccionar.png)

6. Â¡Listo! Ahora tu base de datos estÃ¡ configurada y lista para usar. ğŸš€ğŸŒŸ

   

### Crear la base de datos

Estando ubicados en el archivo `db.sql` seleccionaremos todo y ejecutarÃ©mos el cÃ³digo

Para ejecutarlo daramemos click en la opciÃ³n que aparece en la imagen

![image-20230727115431805](./assets/img/README/correr_db.png)

Teniendo ya creada nuesta base de datos, es hora de insertarle algunos "datos":

1. Para ello vamos al archivo `insert.sql` como en el archivo anterior, tambiÃ©n activaremos la connexiÃ³n, sin embargo en esta ocaciÃ³n, seleccionaremos el nombre de nuesta base de datos, la cual es `Talonarios`

   ![image-20230727115959416](./assets/img/README/select_talonario.png)

2. Habiendo hecho esto, seleccionaremos todo y correremos el cÃ³digo.



# Iniciar el servidor:

1. Inicia el servidor backend y la validaciÃ³n de TypeScript para correr el backend.

Dentro de la carpeta "**backend**", ejecuta el siguiente comando:

```bash
npm run dev
```

Crea una nueva terminal y ejecuta este otro comando:

Si te llega a salir error, asegÃºrate de estar en la carpeta **backend** 

```bash
npm run tsc
```

2. Accede a la ruta impresa en la terminal.

La aplicaciÃ³n estarÃ¡ disponible en `http://localhost:3000`.

Puedes acceder al directorio desde `http://localhost:3000/home`



### âš ï¸ **ADVERTENCIA:** Para usar la API, primero debes obtener un token de verificaciÃ³n. ğŸ”’ğŸ”‘



### Herramientas para acceder a la API:

Por motivos prÃ¡cticos utilizaremos las siguientes herramientas


- Thunder Client: ExtenciÃ³n de visual estudio code

![image-20230727092917413](./assets/img/README/thunder.png)



### Pasos a tener en cuenta para generar el token:

1. Hacer una peticion a la URL proporcionada por el servidor, agregar el `/token/:id` , donde **:id** serÃ¡ cualquier valor numÃ©rico que le asignemos.

   Ejemplo:

   ```url
   http://localhost:3000/validate/777/Juan
   ```

2. Una vez hecho esto, se generarÃ¡ un token:

   - Copiar el **token**

     ![image-20230727093302175](./assets/img/README/token.png)

3. Acceso:

   1. Crear un nuevo parÃ¡metro el cual serÃ¡ un **Header** cuyo nombre **extrictamente** y para el funcionamiento de la api serÃ¡ **Authorization** 

   2. Agregar como valor el token generado **(SIN COMMILLAS)**

      1. Hacer una peticion por metodo **GET** a la url que desea acceder segÃºn las rutas especificadas, por ejemplo **/home/talonarios**

   3. Darle en send

      ![image-20230727093431933](./assets/img/README/parÃ¡metros.png)

      Listo, con esto ya tendrÃ¡s tu **token** y sabrÃ¡s usarlo :wink:

      


## ROUTES ğŸ”ğŸ›£ï¸

AquÃ­ encontrarÃ¡s las rutas de acceso a diferentes secciones:

- Factura: http://localhost:3000/home



## Contribuciones y Licencia ğŸ“ğŸ“„

Â¡Agradecemos tus contribuciones al proyecto! Si deseas colaborar, sigue los siguientes pasos:

1. Crea un nuevo "branch" para tus cambios.

```bash
git checkout -b mi-nueva-funcionalidad
```

2. Realiza tus modificaciones y mejoras.

3. Haz un "commit" de tus cambios.

```bash
git commit -m "Agrego nueva funcionalidad"
```

4. EnvÃ­a tus cambios al repositorio remoto.

```bash
git push origin mi-nueva-funcionalidad
```

5. Abre un "Pull Request" en GitHub para que revisemos tus cambios.

Este proyecto se encuentra bajo la Licencia MIT. SiÃ©ntete libre de utilizar, modificar y distribuir el cÃ³digo segÃºn tus necesidades.

Â¡Gracias por contribuir al proyecto "CloudCheckbooks"! ğŸ™ŒğŸ’°|
